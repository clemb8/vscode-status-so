(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")},81:e=>{e.exports=require("child_process")}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=o(496),s=o(81);let a;async function n(){let e=t.workspace.workspaceFolders?t.workspace.workspaceFolders[0].uri.fsPath:void 0;const o=await(r=`cd ${e} && sfdx force:org:display --json`,new Promise(((e,t)=>{s.exec(r,((t,o)=>e(t?r+" error!":o)))})));var r;try{const e=JSON.parse(o);e.result.status?function(e,o){if("Active"!==e)i("Org Expired !",new t.ThemeColor("statusBarItem.errorBackground"));else{let e=function(e){let t=new Date(e),o=new Date,r=Math.abs(t.getTime()-o.getTime());return console.log(r),Math.ceil(r/864e5)}(o);i(`Org expire in ${e} days`,e<=2?new t.ThemeColor("statusBarItem.warningBackground"):a.backgroundColor)}}(e.result.status,e.result.expirationDate):i("")}catch(e){i("")}}function i(e,t){a.text=e,a.backgroundColor=t,a.show()}e.activate=function(e){console.log('Congratulations, your extension "status-so" is now active!');let o=t.commands.registerCommand("status-so.helloWorld",(()=>{t.window.showInformationMessage("Hello World from status-SO!")}));e.subscriptions.push(o),a=t.window.createStatusBarItem(t.StatusBarAlignment.Left,1),a.text="Waiting for informations",a.tooltip="Current Organization Expiration Date",e.subscriptions.push(a),e.subscriptions.push(t.window.onDidChangeWindowState(n)),a.show(),n()},e.deactivate=function(){}})(),module.exports=r})();