(()=>{"use strict";var t={496:t=>{t.exports=require("vscode")},81:t=>{t.exports=require("child_process")}},e={};function o(r){var s=e[r];if(void 0!==s)return s.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,o),a.exports}var r={};(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const e=o(496),s=o(81);let a;async function n(){let t=e.workspace.workspaceFolders?e.workspace.workspaceFolders[0].uri.fsPath:void 0;const o=await(r=`cd ${t} && sfdx force:org:display --json`,new Promise(((t,e)=>{s.exec(r,((e,o)=>t(e?r+" error!":o)))})));var r;try{const t=JSON.parse(o);t.result.status?function(t,o){if("Active"!==t)i("Org Expired !",new e.ThemeColor("statusBarItem.errorBackground"));else{let t=function(t){let e=new Date(t),o=new Date,r=Math.abs(e.getTime()-o.getTime());return console.log(r),console.log(r/864e5),Math.floor(r/864e5)}(o);console.log(t),0===t?i("Warning, this is the last day !",new e.ThemeColor("statusBarItem.errorBackground")):i(`Org expire in ${t} days`,t<=2?new e.ThemeColor("statusBarItem.warningBackground"):new e.ThemeColor("statusBarItem.standardBackground"))}}(t.result.status,t.result.expirationDate):i("")}catch(t){i("")}}function i(t,e){a.text=t,a.backgroundColor=e,a.show()}t.activate=function(t){console.log('Congratulations, your extension "status-so" is now active!');let o=e.commands.registerCommand("status-so.showExpiration",(()=>{n()}));t.subscriptions.push(o),a=e.window.createStatusBarItem(e.StatusBarAlignment.Left,1),a.command="status-so.showExpiration",a.text="Waiting for informations",a.tooltip="Current Organization Expiration Date",t.subscriptions.push(a),t.subscriptions.push(e.window.onDidChangeWindowState(n)),a.show(),n()},t.deactivate=function(){}})(),module.exports=r})();